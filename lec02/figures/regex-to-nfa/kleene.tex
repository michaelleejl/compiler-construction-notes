\begin{tikzpicture}[>=stealth',shorten >=1pt,auto,node distance=2cm]
\node[state]           (q0)               {  };
\node[state,darkred] (q1) [right of=q0] { };
\node[state,darkred] (q2) [right of=q1] { };
\node[state,accepting] (q3) [right of=q2] { };

\node[darkred] (ne) at ($(q1)!0.5!(q2)$) { \scriptsize $N(e)$ };

\path[->]              (q0)  edge node {$\epsilon$} (q1) ;
\path[->]              (q2)  edge node {$\epsilon$} (q3) ;
\draw[->] (q0) to[out=-45,in=180]  ($(q0)!0.5!(q3) + (0,-1)$) node[above] {$\epsilon$} to[out=0,in=-135] (q3);
\draw[->] (q2) to[out=135,in=45]  node[above] {$\epsilon$} (q1);

\draw[dotted,darkred,rounded corners] ($(q1.south west) + (-0.2,-0.2)$) rectangle ($(q2.north east) + (0.2,0.2)$) ;
\draw[dotted,rounded corners] ($(q0.south west) + (-0.2,-1.0)$) rectangle ($(q3.north east) + (0.2,1.0)$) ;

\node[anchor=east] at (q0.west) { $N({\color{darkred}e}*) \quad=\quad$};
\end{tikzpicture}