\begin{tikzpicture}[>=stealth',shorten >=1pt,auto,node distance=2.4cm]

\node[state,initial] (q1) [right of=q0]{ q$_1$ };
\node[state,fill=highlight,fill opacity=0.1,text opacity=1.0] (q2) [right of=q1]{ q$_2$ };
\node[state,accepting] (q3) [right of=q2]{ q$_3$ };


\path[->] (q1)  edge[loop above] node (sss) {a,\textsc{s} $\to$ \textsc{ss}} (q1);
\node[anchor=south] at (sss.north) {a,\textsc{z} $\to$ \textsc{sz}};
\path[->] (q1)  edge node {$\epsilon$} (q2);
\path[->] (q2)  edge[loop above] node (se) {b,\textsc{s} $\to$ $\epsilon$} (q2);
\path[->] (q2)  edge node {$\epsilon$,\textsc{z} $\to$ $\epsilon$} (q3);

\begin{scope}[xscale=2.4,xshift=31.4ex,yshift=7ex]
\draw (0,0) -- (1.2,0);

\node[anchor=south] at (0.1,0) { \footnotesize\texttt{a}};
\node[anchor=south] at (0.3,0) { \footnotesize\texttt{a}};
\node[anchor=south] at (0.5,0) { \footnotesize\texttt{a}};
\node[anchor=south] at (0.7,0) { \footnotesize\texttt{b}};
\node[anchor=south] at (0.9,0) { \footnotesize\texttt{b}};
\node[anchor=south] at (1.1,0) { \footnotesize\texttt{b}};

\draw[draw opacity=0.0,fill=highlight,fill opacity=0.1] (0.6,0) rectangle (1.2,0.4);

\begin{scope}[black,opacity=0.5]
\draw (0.0, 0) -- (0.0, 0.3);
\draw (0.2, 0) -- (0.2, 0.3);
\draw (0.4, 0) -- (0.4, 0.3);
\draw (0.6, 0) -- (0.6, 0.3);
\draw (0.8, 0) -- (0.8, 0.3);
\draw (1.0, 0) -- (1.0, 0.3);
\draw (1.2, 0) -- (1.2, 0.3);
\end{scope}
\end{scope}

\node[draw,minimum height=16ex,minimum width=4ex,fill=highlight,fill opacity=0.1,text opacity=1.0] (stack) at ($(q3) + (38ex,6.5ex)$) { };
\draw[black,opacity=0.3] ($(stack.south west) + (0,4ex)$) -- ++(4ex,0);
\draw[black,opacity=0.3] ($(stack.south west) + (0,8ex)$) -- ++(4ex,0);
\draw[black] ($(stack.south west) + (0,12ex)$) -- ++(4ex,0);
\node (z) at ($(stack.south) + (0,2ex)$) { \textsc{z} };
\node (sz) at ($(stack.south) + (0,6ex)$) { \textsc{s} };
\node (ssz) at ($(stack.south) + (0,10ex)$) { \textsc{s} };
\node (sssz) at ($(stack.south) + (0,14ex)$) { \textsc{s} };

\node (id) at ($(q3) + (0,-17ex)$) {
\small
ID $\langle {\color{highlight}q_2}, {\color{highlight}bbb}, {\color{highlight}sssz} \rangle$
  };

\draw[highlight,->] ($(id.north) + (-4ex,-0.5ex)$) to[out=90,in=-80] (q2);
\draw[highlight,->] ($(id.north) + (1ex,-0.5ex)$) to[out=90,in=-90] (15.44,1.28);
\draw[highlight,->] ($(id.north) + (6.5ex,-0.5ex)$) to[out=90,in=-90] (stack);

\end{tikzpicture}